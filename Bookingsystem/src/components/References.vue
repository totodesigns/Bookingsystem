<script>
import { ref } from "vue";

export default {
setup() {
    const cards = ref([
    {name: "Hans Hansen", quote: "Det er bare det bedste træningscenter i Odense. Ingen andre steder har så styr på kvaliteten som Allan og Ole!" },
    {name: "Jens Jensen", quote: "De er ikke kun søde og rare, men også dygtige inden for træning, fitness, sundhed og meget mere! Rigtige eksperter." },
    {name: "Lars Larsen", quote: "De giver mig motivationen til at investere i min sundhed. Det er der ikke mange, der kan!" }]);
    const currentIndex = ref(0);

    const cardWidth = 700; // Width px of a card
    const gap = 90; // Gap px between cards

    const nextSlide = () => {
    if (currentIndex.value < cards.value.length - 1) {
        currentIndex.value++;
    }
    };

    const prevSlide = () => {
    if (currentIndex.value > 0) {
        currentIndex.value--;
    }
    };

    return {
    cards,
    currentIndex,
    nextSlide,
    prevSlide,
    cardWidth,
    gap,
    };
},
};
</script>
<template>
    <div class="slider content-block">
        <div class="text-gap-xl">
            <div class="text-gap-s stretch">
                <p class="t3 centered">REFERENCER</p>
                <h3 class="centered">Se hvad vores medlemmer siger</h3>
            </div>
            <div class="btn-pair btn-end">
                <button @click="prevSlide" :disabled="currentIndex === 0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="19" viewBox="0 0 32 19" fill="none">
                        <path d="M25 10.5556H7C6.44 10.5556 6 10.0911 6 9.50001C6 8.9089 6.44 8.44446 7 8.44446H25C25.56 8.44446 26 8.9089 26 9.50001C26 10.0911 25.56 10.5556 25 10.5556Z" fill="#1677ff"/>
                        <path d="M12 17.9444C11.8688 17.9461 11.7388 17.9188 11.6183 17.8643C11.4977 17.8097 11.3893 17.7292 11.3 17.6278L4.3 10.2389C3.9 9.81665 3.9 9.16221 4.3 8.73999L11.3 1.37221C11.7 0.949986 12.32 0.949986 12.72 1.37221C13.12 1.79443 13.12 2.44888 12.72 2.8711L6.42 9.5211L12.72 16.1711C13.12 16.5933 13.12 17.2478 12.72 17.67C12.52 17.8811 12.26 17.9867 12.02 17.9867L12 17.9444Z" fill="#1677ff"/>
                    </svg>
                </button>
                <button @click="nextSlide" :disabled="currentIndex === cards.length - 1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="19" viewBox="0 0 32 19" fill="none">
                    <path d="M25 10.5556H7C6.44 10.5556 6 10.0911 6 9.50001C6 8.9089 6.44 8.44446 7 8.44446H25C25.56 8.44446 26 8.9089 26 9.50001C26 10.0911 25.56 10.5556 25 10.5556Z" fill="#1677ff"/>
                    <path d="M20 17.9444C19.8688 17.9461 19.7388 17.9188 19.6183 17.8643C19.4977 17.8097 19.3893 17.7292 19.3 17.6278C18.9 17.2055 18.9 16.5511 19.3 16.1289L25.6 9.47886L19.3 2.82886C18.9 2.40664 18.9 1.75219 19.3 1.32997C19.7 0.90775 20.32 0.90775 20.72 1.32997L27.72 8.71886C28.12 9.14108 28.12 9.79553 27.72 10.2178L20.72 17.6066C20.52 17.8178 20.26 17.9233 20.02 17.9233L20 17.9444Z" fill="#1677ff"/>
                    </svg>
                </button>
            </div>
        </div>

            <div class="slider-wrapper" :style="{transform: `translateX(-${currentIndex * (cardWidth + gap)}px)`}">
                <div class="card" v-for="(card, index) in cards" :key="index">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                            <path d="M43.9 17.442L43.85 17.106L43.798 17.118C43.4426 15.4561 42.6239 13.9287 41.4367 12.7127C40.2494 11.4967 38.7421 10.6416 37.0892 10.2466C35.4363 9.85149 33.7052 9.93249 32.0964 10.4802C30.4876 11.0279 29.0667 12.02 27.9982 13.3416C26.9297 14.6632 26.2573 16.2603 26.0587 17.9482C25.86 19.636 26.1434 21.3456 26.8759 22.8791C27.6084 24.4127 28.7601 25.7075 30.1979 26.6137C31.6356 27.5199 33.3005 28.0006 35 28C35.446 28 35.874 27.932 36.3 27.87C36.162 28.334 36.02 28.806 35.792 29.23C35.564 29.846 35.208 30.38 34.854 30.918C34.558 31.5 34.036 31.894 33.652 32.392C33.25 32.876 32.702 33.198 32.268 33.6C31.842 34.02 31.284 34.23 30.84 34.526C30.376 34.792 29.972 35.086 29.54 35.226L28.462 35.67L27.514 36.064L28.482 39.942L29.676 39.654C30.058 39.558 30.524 39.446 31.054 39.312C31.596 39.212 32.174 38.938 32.818 38.688C33.452 38.402 34.19 38.212 34.874 37.754C35.562 37.318 36.356 36.954 37.056 36.37C37.734 35.768 38.552 35.246 39.156 34.482C39.816 33.766 40.468 33.014 40.974 32.158C41.56 31.342 41.958 30.446 42.378 29.56C42.758 28.674 43.064 27.768 43.314 26.888C43.788 25.124 44 23.448 44.082 22.014C44.15 20.578 44.11 19.384 44.026 18.52C43.998 18.1592 43.9559 17.7996 43.9 17.442ZM21.9 17.442L21.85 17.106L21.798 17.118C21.4426 15.4561 20.6239 13.9287 19.4367 12.7127C18.2494 11.4967 16.7421 10.6416 15.0892 10.2466C13.4363 9.85149 11.7052 9.93249 10.0964 10.4802C8.4876 11.0279 7.06674 12.02 5.99825 13.3416C4.92975 14.6632 4.25728 16.2603 4.05866 17.9482C3.86004 19.636 4.14337 21.3456 4.87588 22.8791C5.60839 24.4127 6.76014 25.7075 8.19786 26.6137C9.63558 27.5199 11.3005 28.0006 13 28C13.446 28 13.874 27.932 14.3 27.87C14.162 28.334 14.02 28.806 13.792 29.23C13.564 29.846 13.208 30.38 12.854 30.918C12.558 31.5 12.036 31.894 11.652 32.392C11.25 32.876 10.702 33.198 10.268 33.6C9.84201 34.02 9.28401 34.23 8.84001 34.526C8.37601 34.792 7.97201 35.086 7.54001 35.226L6.46201 35.67C5.86001 35.916 5.51601 36.06 5.51601 36.06L6.48401 39.938L7.67801 39.65C8.06001 39.554 8.52601 39.442 9.05601 39.308C9.59801 39.208 10.176 38.934 10.82 38.684C11.454 38.398 12.192 38.208 12.876 37.75C13.564 37.314 14.358 36.95 15.058 36.366C15.736 35.764 16.554 35.242 17.158 34.478C17.818 33.762 18.47 33.01 18.976 32.154C19.562 31.338 19.96 30.442 20.38 29.556C20.76 28.67 21.066 27.764 21.316 26.884C21.79 25.12 22.002 23.444 22.084 22.01C22.152 20.574 22.112 19.38 22.028 18.516C21.9975 18.1567 21.9548 17.7985 21.9 17.442Z" fill="#F5F5F5"/>
                        </svg>
                        <p class="t2 white-text fill-height">{{ card.quote }}</p>
                    </div>
                    <div class="text-gap-xs">
                        <p class="white-text body-bold">{{ card.name }}</p>
                        <p class="caption white-text">53 år</p>
                    </div>
                </div>
            </div>
        </div>
</template>
